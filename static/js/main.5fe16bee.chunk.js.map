{"version":3,"sources":["components/App/Modal/Modal.module.css","components/App/SearchForm/SearchForm.module.css","components/App/Gallery/Gallery.module.css","components/App/Gallery/LoadButton/LoadButton.module.css","components/App/Gallery/PhotoCard/PhotoCard.module.css","components/App/SearchForm/SearchForm.jsx","components/App/Gallery/PhotoCard/PhotoCard.jsx","components/App/Gallery/LoadButton/LoadButton.jsx","components/App/Gallery/Gallery.jsx","components/App/Modal/Modal.jsx","components/App/App.jsx","index.js"],"names":["module","exports","SearchForm","state","text","handleChange","target","name","value","setState","handleSubmit","e","preventDefault","onSubmit","props","this","className","styles","searchForm","type","autoComplete","placeholder","searchInput","onChange","Component","PhotoCard","webformatURL","largeImageURL","likes","views","comments","downloads","openModal","photoCard","data-img","photoCardImg","src","alt","stats","fullscreenButton","onClick","LoadButton","loadMore","button","Gallery","gallery","listRef","ref","map","el","key","id","defaultProps","Modal","overlayRef","createRef","handleKeyPress","code","onClose","handleOverlayClick","current","window","addEventListener","removeEventListener","image","overlay","modal","App","currentValue","isLoading","error","showModal","largeImgUrl","handleSearchFormValue","page","APIUrl","axios","get","then","data","hits","catch","message","handleError","finally","msg","toast","position","POSITION","TOP_CENTER","parentElement","dataset","img","closeModal","prev","scrollTo","top","clientHeight","behavior","color","style","textAlign","autoClose","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5fe16bee.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2WiKr\",\"modal\":\"Modal_modal__2m0_S\",\"image\":\"Modal_image__Z9atx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__3r3ye\",\"searchInput\":\"SearchForm_searchInput__1sJJj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__1365a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"LoadButton_button__3vOl4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"PhotoCard_photoCard__3kq-1\",\"photoCardImg\":\"PhotoCard_photoCardImg__1yXVn\",\"stats\":\"PhotoCard_stats__1dhES\",\"statsItem\":\"PhotoCard_statsItem__3HhhD\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__35IIl\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchForm.module.css';\n\nclass SearchForm extends Component {\n    state = {\n        text: '',\n    };\n\n    handleChange = ({ target }) => {\n        const { name, value } = target;\n\n        this.setState({\n            [name]: value,\n        });\n    };\n\n    handleSubmit = e => {\n        e.preventDefault();\n\n        const { text } = this.state;\n        const { onSubmit } = this.props;\n\n        onSubmit(text);\n\n        this.setState({\n            text: '',\n        });\n    };\n\n    render() {\n        const { text } = this.state;\n\n        return (\n            <form className={styles.searchForm} onSubmit={this.handleSubmit}>\n                <input\n                    type=\"text\"\n                    autoComplete=\"off\"\n                    placeholder=\"Search images...\"\n                    className={styles.searchInput}\n                    value={text}\n                    name=\"text\"\n                    onChange={this.handleChange}\n                />\n            </form>\n        );\n    }\n}\n\nSearchForm.propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './PhotoCard.module.css';\n\nconst PhotoCard = ({\n    webformatURL,\n    largeImageURL,\n    likes,\n    views,\n    comments,\n    downloads,\n    type,\n    openModal,\n}) => (\n    <>\n        <li className={styles.photoCard} data-img={largeImageURL}>\n            <img\n                className={styles.photoCardImg}\n                src={webformatURL}\n                alt={type}\n            />\n            <div className={styles.stats}>\n                <p className={styles.stats}>\n                    <i className=\"material-icons\">thumb_up</i>\n                    {likes}\n                </p>\n                <p className={styles.stats}>\n                    <i className=\"material-icons\">visibility</i>\n                    {views}\n                </p>\n                <p className={styles.stats}>\n                    <i className=\"material-icons\">comment</i>\n                    {comments}\n                </p>\n                <p className={styles.stats}>\n                    <i className=\"material-icons\">cloud_download</i>\n                    {downloads}\n                </p>\n            </div>\n            <button\n                type=\"button\"\n                className={styles.fullscreenButton}\n                onClick={openModal}\n            >\n                <i className=\"material-icons\">zoom_out_map</i>\n            </button>\n        </li>\n    </>\n);\n\nPhotoCard.propTypes = {\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n    likes: PropTypes.number.isRequired,\n    views: PropTypes.number.isRequired,\n    comments: PropTypes.number.isRequired,\n    downloads: PropTypes.number.isRequired,\n    type: PropTypes.string.isRequired,\n    openModal: PropTypes.func.isRequired,\n};\n\nexport default PhotoCard;\n","import React from 'react';\nimport styles from './LoadButton.module.css';\n\nconst LoadButton = ({ loadMore }) => (\n    <button type=\"button\" className={styles.button} onClick={loadMore}>\n        Load more\n    </button>\n);\n\nexport default LoadButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Gallery.module.css';\nimport PhotoCard from './PhotoCard/PhotoCard';\nimport LoadButton from './LoadButton/LoadButton';\n\nconst Gallery = ({ gallery, loadMore, listRef, openModal }) => (\n    <>\n        <ul className={styles.gallery} ref={listRef}>\n            {gallery.map(el => (\n                <PhotoCard {...el} key={el.id} openModal={openModal} />\n            ))}\n        </ul>\n        <LoadButton loadMore={loadMore} />\n    </>\n);\n\nGallery.defaultProps = {\n    gallery: [],\n};\n\nGallery.propTypes = {\n    gallery: PropTypes.arrayOf(PropTypes.object),\n    loadMore: PropTypes.func.isRequired,\n    listRef: PropTypes.shape({\n        current: PropTypes.object,\n    }).isRequired,\n    openModal: PropTypes.func.isRequired,\n};\n\nexport default Gallery;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nclass Modal extends Component {\n    overlayRef = createRef();\n\n    componentDidMount() {\n        window.addEventListener('keydown', this.handleKeyPress);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('keydown', this.handleKeyPress);\n    }\n\n    handleKeyPress = e => {\n        if (e.code !== 'Escape') return;\n\n        this.props.onClose();\n    };\n\n    handleOverlayClick = e => {\n        const { current } = this.overlayRef;\n\n        if (current && e.target !== current) return;\n\n        this.props.onClose();\n    };\n\n    render() {\n        const { image } = this.props;\n\n        return (\n            <div\n                className={styles.overlay}\n                ref={this.overlayRef}\n                onClick={this.handleOverlayClick}\n            >\n                <div className={styles.modal}>\n                    <img src={image} alt=\"\" className={styles.image} />\n                </div>\n            </div>\n        );\n    }\n}\n\nModal.propTypes = {\n    onClose: PropTypes.func.isRequired,\n    image: PropTypes.string.isRequired,\n};\n\nexport default Modal;\n","import React, { Component, createRef } from 'react';\nimport axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\nimport Loader from 'react-loader-spinner';\nimport 'react-toastify/dist/ReactToastify.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport './App.css';\nimport SearchForm from './SearchForm/SearchForm';\nimport Gallery from './Gallery/Gallery';\nimport Modal from './Modal/Modal';\n\nclass App extends Component {\n    listRef = createRef();\n\n    state = {\n        gallery: [],\n        currentValue: '',\n        isLoading: false,\n        error: null,\n        showModal: false,\n        largeImgUrl: '',\n    };\n\n    page;\n\n    handleSearchFormValue = value => {\n        this.setState({ isLoading: true });\n        this.setState({ currentValue: value });\n\n        this.page = 1;\n\n        const APIUrl = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${value}&page=${this.page}&per_page=12&key=13846876-f4b9301a849f606d51ead0c00`;\n\n        axios\n            .get(APIUrl)\n            .then(({ data }) =>\n                this.setState({\n                    gallery: data.hits,\n                }),\n            )\n            .catch(error => {\n                this.setState({ error: error.message });\n                this.handleError(error.message);\n            })\n            .finally(() => this.setState({ isLoading: false }));\n    };\n\n    handleError = msg => {\n        toast.error(msg, {\n            position: toast.POSITION.TOP_CENTER,\n        });\n    };\n\n    openModal = e => {\n        this.setState({\n            showModal: true,\n            largeImgUrl: e.target.parentElement.dataset.img,\n        });\n    };\n\n    closeModal = () => {\n        this.setState({\n            showModal: false,\n        });\n    };\n\n    loadMore = () => {\n        const { currentValue } = this.state;\n\n        this.page += 1;\n\n        const APIUrl = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${currentValue}&page=${this.page}&per_page=12&key=13846876-f4b9301a849f606d51ead0c00`;\n\n        axios\n            .get(APIUrl)\n            .then(({ data }) => {\n                this.setState(prev => ({\n                    gallery: [...prev.gallery, ...data.hits],\n                }));\n                window.scrollTo({\n                    top: this.listRef.current.clientHeight,\n                    behavior: 'smooth',\n                });\n            })\n            .catch(error => {\n                this.setState({ error: error.message });\n                this.handleError(error.message);\n            })\n            .finally(() => this.setState({ isLoading: false }));\n    };\n\n    render() {\n        const {\n            gallery,\n            isLoading,\n            error,\n            showModal,\n            largeImgUrl,\n        } = this.state;\n\n        return (\n            <div className=\"app\">\n                <SearchForm onSubmit={this.handleSearchFormValue} />\n                {isLoading && (\n                    <Loader\n                        type=\"Triangle\"\n                        color=\"#00BFFF\"\n                        style={{ textAlign: 'center' }}\n                    />\n                )}\n                {error && <ToastContainer autoClose={1500} />}\n                {gallery.length > 0 && (\n                    <Gallery\n                        gallery={gallery}\n                        loadMore={this.loadMore}\n                        listRef={this.listRef}\n                        showModal={showModal}\n                        openModal={this.openModal}\n                    />\n                )}\n                {showModal && (\n                    <Modal\n                        showModal={showModal}\n                        image={largeImgUrl}\n                        onClose={this.closeModal}\n                    />\n                )}\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App.jsx';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}